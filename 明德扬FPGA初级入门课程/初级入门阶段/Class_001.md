# 第一课：FPGA概论

---

**目录：**

[TOC]

---

## 一、什么是FPGA

**FPGA：** 现场可编程门阵列，即一个可以通过编程来改变内部结构的芯片.
* **使用场景：**
  * 通信接口设计.
  * 数字信号处理.
  * `ASIC`（集成电路）的原型验证.
  * 非标场合.
* **优劣势：**
  * 优势：
    * 可以实现的功能很强大.
    * 研发成本与风险较少，更适用于复杂多变的数据中心等应用.
    * 效率更高、功耗更低.
    * 具有更短的开发周期与开发难度.
  * 劣势：
    * 易于开发程度远远不如单片机、`CPU`.
    * 成本过高、性能较差，并且资源利用率较低.

## 二、FPGA的基本结构

FPGA可编程的特性决定了其实现数字逻辑的结构不能像专用ASIC那样通过固定的逻辑门电路来完成，而只能采用一种可以重复配置的结构来实现，而查找表(`LUT`)可以很好地满足这一要求，目前主流的 FPGA 芯片仍是基于 SRAM 工艺的查找表结构.

> 查找表（`Look-Up-Table`）简称为 `LUT`，其本质上就是一个 RAM.

## 三、更为复杂的FPGA架构

FPGA 行业两大巨头：
* `Xilinx`（赛灵思）.
* `Altera`.

在FPGA内部，有着“软内核”（`软功能`）与“硬内核”（`硬功能`）之分.

## 四、带嵌入式处理器的FPGA

如果 `FPGA` 供应商希望提供一个占用较少硅片面积、消耗较低功率但性能更高的处理器，解决方案是将其实现为硬内核.

如果需要高速、高性能的处理器，并且需要实现逻辑编程时，传统的方法是在电路板上放置处理器(如 `ARM`、`DSP` 等)和 `FPGA`，`ARM` 或者 `DSP` 工程师实现软件部分，`FPGA` 工程师实现可编程逻辑部分，两者协同合作.

## 五、数据存储以及配置方式

在 `FPGA` 内部存在着存储单元片内 `RAM` 块，数据是存放在 `RAM` 中并由其来设置工作状态的，若想要 `FPGA` 进行工作，就需要对片内 `RAM` 进行编程.

而如果外部有大量数据交互时，就要通过增加外设来对数据进行暂时性的存储，如 `SDRAM` 存储器或者 `DDR3` 存储器，暂存在外设中的数据最终也是要通过 `FPGA` 内部的 `RAM` 进行存储与处理.

当在 `EDA` 工具上将程序设计完成之后，便需要将软件上的程序烧录进 `FPGA` 内部.通过不同的配置模式，`FPGA` 便会有不同的编程方式。

以下为常用的几种配置模式：
* 并行模式.
* 主从模式.
* 串行模式.
* 外设模式.

目前，主流的 `FPGA` 都是基于 `SRAM` 工艺的，在大部分的 `FPGA` 开发板上，使用的都是串行配置模式.由于 `SRAM` 掉电就会丢失内部数据，因此往往都会外接一个能够掉电保存数据的片外存储器以保存程序.这样一来，上电时 `FPGA` 便将外部存储器中的数据读入片内 `RAM` 以完成配置，对 `FPGA` 编程完成后便进入工作状态；掉电后 `FPGA` 内部 `SRAM` 中存储的数据丢失，逻辑清零.以这种方式配置 `FPGA` 不仅能反复使用，还无需重复的手动配置.完成一次主动配置之后每次上电便会自动的实现 `FPGA` 的内部编程.